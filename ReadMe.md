# ü¶ú Golos ‚Äî Chrome Extension

**Current Version:** 0.1.0 (Stage 2: Voice-to-Text + AI Correction)

–¶–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø–æ—î–¥–Ω—É—î –≤ —Å–æ–±—ñ –¥–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

1.  **AI –ö–æ—Ä–µ–∫—Ç–æ—Ä (Stage 1):** –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –≤ –∞–∫—Ç–∏–≤–Ω–æ–º—É –ø–æ–ª—ñ —á–µ—Ä–µ–∑ OpenAI (`Alt+Shift+G`).
2.  **–ì–æ–ª–æ—Å–æ–≤–∏–π –≤–≤—ñ–¥ (Stage 2):** –î–∏–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –ø–æ–ª—è –≤–≤–æ–¥—É (—á–µ—Ä–µ–∑ Web Speech API).

---

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (Stage 2 Update)

–ù–∞–π–±—ñ–ª—å—à–∏–π –≤–∏–∫–ª–∏–∫ —Ü—å–æ–≥–æ –µ—Ç–∞–ø—É ‚Äî –∑–º—É—Å–∏—Ç–∏ –∫–Ω–æ–ø–∫—É —É –≤—ñ–∫–Ω—ñ (Popup) –∑–∞–ø—É—Å–∫–∞—Ç–∏ –º—ñ–∫—Ä–æ—Ñ–æ–Ω –Ω–∞ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.

### –ü–∞—Ç—Ç–µ—Ä–Ω "–†–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä" (The Relay Pattern)

Chrome –Ω–µ –¥–æ–∑–≤–æ–ª—è—î Popup-–≤—ñ–∫–Ω—É –Ω–∞–ø—Ä—è–º—É –∫–æ–º–∞–Ω–¥—É–≤–∞—Ç–∏ –≤–∫–ª–∞–¥–∫–æ—é "–°–ª—É—Ö–∞–π –º—ñ–∫—Ä–æ—Ñ–æ–Ω". –¢–æ–º—É –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ `background.js` —è–∫ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞.

**–ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –¥–∏–∫—Ç—É–≤–∞–Ω–Ω—ñ:**

1.  **Popup:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ç–∏—Å–Ω–µ "üéô –ü–æ—á–∞—Ç–∏".
    - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î: `chrome.runtime.sendMessage({ type: "GOLOS_START_DICTATION" })`
2.  **Background:** –õ–æ–≤–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
    - –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É –≤–∫–ª–∞–¥–∫—É (`tabs.query`).
    - –ü–µ—Ä–µ—Å–∏–ª–∞—î –∫–æ–º–∞–Ω–¥—É —Ç—É–¥–∏: `tabs.sendMessage(tab.id, ...)`
3.  **Content Script:** –û—Ç—Ä–∏–º—É—î –∫–æ–º–∞–Ω–¥—É.
    - –ó–∞–ø—É—Å–∫–∞—î `window.webkitSpeechRecognition`.
    - –°–ª—É—Ö–∞—î –≥–æ–ª–æ—Å —ñ –≤—Å—Ç–∞–≤–ª—è—î —Ç–µ–∫—Å—Ç (`insertTextToActiveElement`) —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ (–®–ø–∞—Ä–≥–∞–ª–∫–∞)

### 1. `manifest.json`

- –î–æ–¥–∞–Ω–æ –¥–æ–∑–≤—ñ–ª `"permissions": ["storage"]`.
- –ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å (–æ–±—Ä–∞–Ω–∞ –º–æ–≤–∞, —Ä–µ–∂–∏–º) –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

### 2. `content-script.js` (–û—á—ñ —Ç–∞ –í—É—Ö–∞)

- **Web Speech API:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π —É –±—Ä–∞—É–∑–µ—Ä —Ä—É—à—ñ–π —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è (–ø—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω/–æ–Ω–ª–∞–π–Ω –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –±—Ä–∞—É–∑–µ—Ä–∞).
- **–ï–º—É–ª—è—Ü—ñ—è –≤–≤–æ–¥—É:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `dispatchEvent(new Event("input"))`, —â–æ–± —Å—É—á–∞—Å–Ω—ñ —Å–∞–π—Ç–∏ (React, Vue) "–±–∞—á–∏–ª–∏", —â–æ —Ç–µ–∫—Å—Ç –∑–º—ñ–Ω–∏–≤—Å—è.
- **–ú–æ–≤–∞:** –ü–æ–∫–∏ —â–æ –∂–æ—Ä—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–∞ `uk-UA` (hardcoded).

### 3. `popup.js` & `popup.html` (–ü—É–ª—å—Ç –∫–µ—Ä—É–≤–∞–Ω–Ω—è)

- **UI:** –î–æ–¥–∞–Ω–æ –∫–Ω–æ–ø–∫—É –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞ —Ç–∞ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å—É.
- **Settings:** –í–∏–±—ñ—Ä —Ä–µ–∂–∏–º—É (uk/en/mix) —Ç–µ–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `chrome.storage.sync`.
- **Health Check:** –ü–æ–∫–∞–∑—É—î —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (OpenAI) —Ç–∞ –∑–∞—Ç—Ä–∏–º–∫—É (ping).

### 4. `background.js` (–î–∏—Å–ø–µ—Ç—á–µ—Ä)

- **Health Check:** –ó–±—ñ–ª—å—à–µ–Ω–æ —Ç–∞–π–º-–∞—É—Ç –¥–æ **10 —Å–µ–∫—É–Ω–¥**, —â–æ–± OpenAI –≤—Å—Ç–∏–≥–∞–≤ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –ø—ñ–Ω–≥.
- **Async/Await:** –ü–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –Ω–∞ —Å—É—á–∞—Å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ.

---

## üéÆ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ì–æ–ª–æ—Å–æ–≤–∏–π –≤–≤—ñ–¥

1.  –ö–ª—ñ–∫–Ω–∏ –≤ –ø–æ–ª–µ –≤–≤–æ–¥—É –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.
2.  –í—ñ–¥–∫—Ä—ñ–π —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è (—ñ–∫–æ–Ω–∫–∞ ü¶ú).
3.  –ù–∞—Ç–∏—Å–Ω–∏ **"üéô –ü–æ—á–∞—Ç–∏ –¥–∏–∫—Ç—É–≤–∞–Ω–Ω—è"**.
4.  –ì–æ–≤–æ—Ä–∏. –¢–µ–∫—Å—Ç –∑'—è–≤–ª—è—Ç–∏–º–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.
5.  –©–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ ‚Äî –Ω–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞–∫—Ä–∏–π —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è (–¥–∏–∫—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å—Å—è, –∑—É–ø–∏–Ω–∏—Ç–∏ –º–æ–∂–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º —ñ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è–º).

### AI –ö–æ—Ä–µ–∫—Ü—ñ—è

1.  –í–∏–¥—ñ–ª–∏ —Ç–µ–∫—Å—Ç –∞–±–æ –ø–æ—Å—Ç–∞–≤ –∫—É—Ä—Å–æ—Ä —É –ø–æ–ª–µ.
2.  –ù–∞—Ç–∏—Å–Ω–∏ **`Alt + Shift + G`**.
3.  –¢–µ–∫—Å—Ç –≤–∏–ø—Ä–∞–≤–∏—Ç—å—Å—è –∑–≥—ñ–¥–Ω–æ –∑ –æ–±—Ä–∞–Ω–∏–º —Ä–µ–∂–∏–º–æ–º —É Popup.

---

## ‚ö†Ô∏è –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è (TODO for Stage 3)

1.  **–ú–æ–≤–∞ –¥–∏–∫—Ç—É–≤–∞–Ω–Ω—è:**

    - –ó–∞—Ä–∞–∑ –¥–∏–∫—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é (`uk-UA`), –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤ –º–µ–Ω—é –≤–∏–±—Ä–∞–Ω–æ "English".
    - _–ü–ª–∞–Ω:_ –ü–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `lang` –∑ Popup —É Content Script –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ.

2.  **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è UI:**

    - –Ø–∫—â–æ –º—ñ–∫—Ä–æ—Ñ–æ–Ω –≤–∏–º–∫–Ω–µ—Ç—å—Å—è —Å–∞–º (—Ç–∏—à–∞), –∫–Ω–æ–ø–∫–∞ –≤ Popup –º–æ–∂–µ –∑–∞–ª–∏—à–∏—Ç–∏—Å—è "–ù–∞—Ç–∏—Å–Ω—É—Ç–æ—é".
    - _–ü–ª–∞–Ω:_ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫ –≤—ñ–¥ Content Script –¥–æ Popup.

3.  **Local Files:**
    - –ù–µ –ø—Ä–∞—Ü—é—î –Ω–∞ `file:///`, –ø–æ–∫–∏ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ü–µ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö Chrome.

---

**–¶–µ–π –∫–æ–º—ñ—Ç —Ñ—ñ–∫—Å—É—î –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–æ–±–æ—á–∏–π MVP –∑ –≥—ñ–±—Ä–∏–¥–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é: –ë—Ä–∞—É–∑–µ—Ä —Å–ª—É—Ö–∞—î, –°–µ—Ä–≤–µ—Ä –≤–∏–ø—Ä–∞–≤–ª—è—î.**
