# ü¶ú Golos ‚Äî Chrome Extension (Stage 1: Text Correction)

–¶–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –¥–ª—è Google Chrome, —è–∫–µ –¥–æ–∑–≤–æ–ª—è—î —Ç–µ–∫—Å—Ç —É –±—É–¥—å-—è–∫–æ–º—É –ø–æ–ª—ñ –≤–≤–æ–¥—É (input, textarea, contenteditable), –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –≥–∞—Ä—è—á—É –∫–ª–∞–≤—ñ—à—É —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –π–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é AI (OpenAI).

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:** –ï—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à–µ–Ω–æ (Text-to-Text).
**–ù–∞—Å—Ç—É–ø–Ω—ñ –µ—Ç–∞–ø–∏:** Voice-to-Text (–¥–∏–∫—Ç—É–≤–∞–Ω–Ω—è).

---

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ "–ù–∞ –ø–∞–ª—å—Ü—è—Ö"

–ü—Ä–æ–µ–∫—Ç —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω, —è–∫—ñ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è –º—ñ–∂ —Å–æ–±–æ—é —è–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É:

1.  **Frontend (–ë—Ä–∞—É–∑–µ—Ä):**

    - **`content-script.js`**: "–†—É–∫–∏". –ñ–∏–≤–µ –Ω–∞ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω—Ü—ñ. –ë–∞—á–∏—Ç—å DOM. –ß–∏—Ç–∞—î —Ç–µ–∫—Å—Ç –∑ –ø–æ–ª—è —ñ –≤—Å—Ç–∞–≤–ª—è—î –π–æ–≥–æ –Ω–∞–∑–∞–¥.
    - **`background.js`**: "–ú–æ–∑–æ–∫". –ñ–∏–≤–µ —É —Ñ–æ–Ω—ñ Chrome. –°–ª—É—Ö–∞—î –≥–∞—Ä—è—á—ñ –∫–ª–∞–≤—ñ—à—ñ (`Alt+Shift+G`). –ü–µ—Ä–µ—Å–∏–ª–∞—î –¥–∞–Ω—ñ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç-—Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —ñ –Ω–∞–∑–∞–¥.
    - **`popup`**: "–û–±–ª–∏—á—á—è". –í—ñ–∫–æ–Ω—Ü–µ, —è–∫–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –ø–æ –∫–ª—ñ–∫—É –Ω–∞ —ñ–∫–æ–Ω–∫—É. –ü–æ–∫–∞–∑—É—î —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (`/health`) —ñ –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–∞—Ç–∏ —Ä–µ–∂–∏–º (—É–∫—Ä/–∞–Ω–≥–ª).

2.  **Backend (–°–µ—Ä–≤–µ—Ä):**
    - **`golos-api` (Node.js + Express)**: –ü—Ä–∏–π–º–∞—î –∑–∞–ø–∏—Ç–∏, —Å—Ç—É–∫–∞—î –≤ OpenAI, –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ç–µ–∫—Å—Ç.

---

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç –∑ –Ω—É–ª—è

### 1. –ó–∞–ø—É—Å–∫ –°–µ—Ä–≤–µ—Ä–∞ (Backend)

–ë–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –±—É–¥–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ `üî¥ Golos Offline`.

1.  –í—ñ–¥–∫—Ä–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª —É –ø–∞–ø—Ü—ñ —Å–µ—Ä–≤–µ—Ä–∞ (`/golos-api`).
2.  –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ —î —Ñ–∞–π–ª `.env` –∑ –∫–ª—é—á–µ–º `OPENAI_API_KEY=sk-...`.
3.  –í—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ –≤–ø–µ—Ä—à–µ):
    ```powershell
    pnpm install
    ```
4.  –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:
    ```powershell
    node index.js
    # –ê–±–æ —è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ: pnpm start
    ```
    _–ú–∞—î –Ω–∞–ø–∏—Å–∞—Ç–∏: `Listening on http://127.0.0.1:3000`_

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è (Frontend)

1.  –í—ñ–¥–∫—Ä–∏–π –≤ Chrome: `chrome://extensions/`
2.  –£–≤—ñ–º–∫–Ω–∏ –ø–µ—Ä–µ–º–∏–∫–∞—á **Developer mode** (—Å–ø—Ä–∞–≤–∞ –∑–≤–µ—Ä—Ö—É).
3.  –ù–∞—Ç–∏—Å–Ω–∏ **Load unpacked** (–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–æ–∑–ø–∞–∫–æ–≤–∞–Ω–µ).
4.  –í–∏–±–µ—Ä–∏ –ø–∞–ø–∫—É, –¥–µ –ª–µ–∂–∏—Ç—å `manifest.json`.

---

## üéÆ –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è

1.  –ó–∞–π–¥–∏ –Ω–∞ –±—É–¥—å-—è–∫–∏–π —Å–∞–π—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–µ—Å—Ç–æ–≤–∏–π `index.html` –∞–±–æ Google Translate).
2.  –ö–ª—ñ–∫–Ω–∏ –≤ –ø–æ–ª–µ –≤–≤–æ–¥—É —ñ –Ω–∞–ø–∏—à–∏ —Ç–µ–∫—Å—Ç –∑ –ø–æ–º–∏–ª–∫–∞–º–∏.
3.  –ù–∞—Ç–∏—Å–Ω–∏ **`Alt + Shift + G`**.
4.  –ó–∞—á–µ–∫–∞–π —Å–µ–∫—É–Ω–¥—É ‚Äî —Ç–µ–∫—Å—Ç –∑–∞–º—ñ–Ω–∏—Ç—å—Å—è –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

_–©–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–≤'—è–∑–æ–∫:_ –ö–ª—ñ–∫–Ω–∏ –Ω–∞ —ñ–∫–æ–Ω–∫—É —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è. –ú–∞—î –±—É—Ç–∏ **üü¢ Golos Online**.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ (–®–ø–∞—Ä–≥–∞–ª–∫–∞)

| –§–∞–π–ª                    | –©–æ —Ä–æ–±–∏—Ç—å          | –í–∞–∂–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏                                                                       |
| :---------------------- | :----------------- | :----------------------------------------------------------------------------------- |
| **`manifest.json`**     | –ü–∞—Å–ø–æ—Ä—Ç —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è | –¢—É—Ç –∑–∞–¥–∞–Ω—ñ –ø—Ä–∞–≤–∞ (`activeTab`), —à–æ—Ä—Ç–∫–∞—Ç–∏ (`commands`) —ñ –≤–µ—Ä—Å—ñ—è.                      |
| **`background.js`**     | –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `async/await`. –†–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ú–∞—î —Ç–∞–π–º-–∞—É—Ç 10—Å –¥–ª—è `/health`. |
| **`content-script.js`** | –†–æ–±–æ—Ç–∞ –∑ DOM       | –ù–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∏, —Ç—ñ–ª—å–∫–∏ –¥–æ DOM. –°–ª—É—Ö–∞—î –∫–æ–º–∞–Ω–¥–∏ –≤—ñ–¥ `background`.  |
| **`index.js`**          | –°–µ—Ä–≤–µ—Ä–Ω–∞ –ª–æ–≥—ñ–∫–∞    | –ú–∞—î –¥–≤–∞ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏: `GET /health` (–ø—ñ–Ω–≥) —Ç–∞ `POST /process` (–æ–±—Ä–æ–±–∫–∞).                |
| **`popup.js`**          | –õ–æ–≥—ñ–∫–∞ –≤—ñ–∫–æ–Ω—Ü—è     | –†–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç —Å—Ç–∞—Ç—É—Å—É —á–µ—Ä–µ–∑ `runtime.sendMessage` —É background.                       |

---

## ‚ö†Ô∏è "–ì—Ä–∞–±–ª—ñ" —Ç–∞ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º (Troubleshooting)

### 1. "–Ø –æ–Ω–æ–≤–∏–≤ –∫–æ–¥, –Ω–∞—Ç–∏—Å–Ω—É–≤ Reload –≤ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è—Ö, –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è!"

Chrome –æ–Ω–æ–≤–ª—é—î —Ç—ñ–ª—å–∫–∏ `background.js`. –ö–æ–Ω—Ç–µ–Ω—Ç-—Å–∫—Ä–∏–ø—Ç —É –≤–∂–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Å—Ç–∞—Ä–∏–º —ñ "–º–µ—Ä—Ç–≤–∏–º".
‚úÖ **–†—ñ—à–µ–Ω–Ω—è:** –ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ –æ–Ω–æ–≤–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É (F5)**, –Ω–∞ —è–∫—ñ–π —Ç–µ—Å—Ç—É—î—à.

### 2. "Uncaught SyntaxError: await is only valid in async functions"

–¶–µ –ø–æ–º–∏–ª–∫–∞ –≤ `background.js`. –¢–∏ –Ω–∞–º–∞–≥–∞—î—à—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `await` —Ç–∞–º, –¥–µ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –æ–≥–æ–ª–æ—à–µ–Ω–∞ —è–∫ `async`.
‚úÖ **–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ —î —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ `(command) => { ... }`.

### 3. "üî¥ Golos Offline (signal is aborted)"

–°–µ—Ä–≤–µ—Ä OpenAI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –¥–æ–≤–≥–æ, –∞ —Ç–∞–π–º-–∞—É—Ç —É `background.js` –±—É–≤ –∑–∞–Ω–∞–¥—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–º.
‚úÖ **–†—ñ—à–µ–Ω–Ω—è:** –£ `runHealthCheck` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `setTimeout` –Ω–∞ **10000 –º—Å** (10 —Å–µ–∫).

### 4. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –Ω–µ –ø—Ä–∞—Ü—é—î –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö (`file:///...`)

Chrome –±–ª–æ–∫—É—î –¥–æ—Å—Ç—É–ø –¥–æ –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∑ –º—ñ—Ä–∫—É–≤–∞–Ω—å –±–µ–∑–ø–µ–∫–∏.
‚úÖ **–†—ñ—à–µ–Ω–Ω—è:** –í `chrome://extensions` -> –î–µ—Ç–∞–ª—ñ -> –£–≤—ñ–º–∫–Ω—É—Ç–∏ **"Allow access to file URLs"**.

---

## üõ† –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **–û–°:** Windows 11
- **–¢–µ—Ä–º—ñ–Ω–∞–ª:** PowerShell
- **–ü–∞–∫–µ—Ç–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä:** pnpm
- **API:** OpenAI (`gpt-4o-mini`)
